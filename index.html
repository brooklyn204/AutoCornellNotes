<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knowmads - Dive Deep into Learning</title>
    <link rel="stylesheet" href="css/homepage.css">
</head>
<body>
    <!-- Website Name Display -->
    <header>
        <h1 class="website-name">Knowmads</h1>
    </header>

    <!-- Introduction and Context Section -->
    <div class="intro-section">
        <div class="centered-content">
            <img src="logo.png" width="50%" align="center" id="image">
            <div id="block">
                <h1>Welcome to Knowmads!</h1>
                <p>Revise, understand, and excel with your notes.</p>
                <br>
                <br>
                <h2>How it Works</h2>
            <p>1. Enter your notes.<br>2. Receive comprehension questions.<br>3. Test your understanding.</p>
            </div>
        </div>
        <!-- <video controls>
            <source src="path_to_video.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video> -->
        <h2>Purpose</h2>
        <div class="centered-content">
            <p>With Knowmads, deepen your grasp on subjects and ensure you're always ready for any quiz or test.</p>
        </div>
    </div>

    <!-- Notes Input Section -->
    <div class="container">
        <textarea id="notesInput" rows="10" placeholder="Enter your study session notes here..."></textarea>
        <button id="submitBtn" onclick="sendMessage()">Generate Questions</button>
    </div>

    

    <script>
      var requestNum = 0;
      function sendMessage() {
                const question = "Must ask me exactly 5 comprehension questions about the following:";
                
                //var ans = ""// This is a question
                notesInput += question + document.getElementById('notesInput').value;

                a = "sk-l1fzwTOD"
                b = "M3JO0GNp6vUFT3BlbkFJbjJcXtFdUoaQJToltKCM"
                var apiKey = a + b
                const apiUrl = 'https://api.openai.com/v1/chat/completions';

                const requestData = {
                    model: 'gpt-3.5-turbo',
                    messages: [
                        { role: 'system', content: '' },
                        { role: 'user', content: notesInput },
                    ],
                };

                fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(requestData),
                })
                .then(response => response.json())
                .then(data => {
                    localStorage.clear();
                    console.log(data);
                    let ca = data.choices[0].message.content; // Replace with your data\ 
                   
                    localStorage.clear();
                    localStorage.setItem('myData', ca);
                    window.location.href = 'questions.html';
                })

        }
    </script>
    
    
    <!-- Include your external script -->
    
</body>
</html>

